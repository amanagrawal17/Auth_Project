{% extends 'layouts/app.html' %}
{% load static %}
{% block content %}
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">

<!-- Icon CDN -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw==" crossorigin="anonymous" referrerpolicy="no-referrer" />
<style>
    .fa-solid {
        font-size: 26px;
    }

    .fa-solid[data-count]:after {
        position: absolute;
        right: 0%;
        top: 1%;
        content: attr(data-count);
        font-size: 36%;
        padding: .6em;
        border-radius: 999px;
        line-height: .75em;
        color: white;
        background: rgba(255, 0, 0, .85);
        text-align: center;
        min-width: 2em;
        font-weight: bold;
    }
</style>

<body>
  {% comment %} <a href="{%url 'home' %}">Home</a>
  <a href="{%url 'logout' %}">Logout</a>
  <a href="{%url 'profile' %}">Settings</a> {% endcomment %}

<nav class="navbar navbar-expand-lg navbar-dark bg-dark">
      <div class="container"> 
        {% comment %} <a class="navbar-brand" href="#">Notify</a> {% endcomment %}
         <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
          <ul class="navbar-nav me-auto mb-2 mb-lg-0">
            <li class="nav-item">
              <a class="nav-link active" aria-current="page" href="{% url 'home' %}">Home</a>
            </li>
            <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="{% url 'logout' %}">logout</a>
            </li>
            <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="{% url 'profile' %}">Settings</a>
            </li>
          </ul>
          <div class="d-flex dropstart">
            <div class="collapse navbar-collapse dropstart" id="navbarNavDarkDropdown">
              <ul class="navbar-nav">
                <li class="nav-item dropdown dropdown-menu-start">
                  <a class="nav-link " href="#"  data-bs-toggle="dropdown" aria-expanded="false">
                    <i id="bellCount" class="fa-solid fa-bell" data-count="0" ></i>
                  </a>
                  <ul class="dropdown-menu dropdown-menu-dark  text-wrap show" id="notify" style="width: 300px !important;"></ul>
                </li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </nav> 
  <br>
  <a id="button"><i class="fas fa-angle-up fa-2x"></i></a>
  <div class="container-fluid">
      <div class="tm-site-header tm-mb-1">
          <div class="tm-site-name-container tm-bg-color-1">
              <h1 class="tm-text-white">Comparto</h1>
          </div>
          <div class="tm-nav-container tm-bg-color-8">
              <nav class="tm-nav" id="tm-nav">
                  <ul>
                      <li class="tm-nav-item current">
                          <a href="#about" class="tm-nav-link">
                              <span class="tm-mb-1">.01</span>
                              <span>Profile</span>
                          </a>
                      </li>
                      <li class="tm-nav-item">
                          <a href="#services" class="tm-nav-link">
                              <span class="tm-mb-1">.02</span>
                              <span>Services</span>
                          </a>
                      </li>
                      <li class="tm-nav-item">
                          <a href="#gallery" class="tm-nav-link">
                              <span class="tm-mb-1">.03</span>
                              <span>Gallery</span>
                          </a>
                      </li>
                      <li class="tm-nav-item">
                          <a href="#contact" class="tm-nav-link">
                              <span class="tm-nav-text tm-mb-1">.04</span>
                              <span class="tm-nav-text">Contact</span>
                          </a>
                      </li>
                  </ul>
              </nav>
          </div>
      </div>
      <section class="tm-mb-1" id="about">
          <div class="tm-row tm-about-row">
              <div class="tm-section-1-l">
                  <img src="{% static 'img/comparto-image-01.jpg'%}" alt="About image" class="tm-img-responsive">
              </div>
              <article class="tm-section-1-r tm-bg-color-8">
                  <h2 class="tm-mb-2 tm-title-color">.01 Comparto CSS Layout</h2>
                  <p><a rel="nofollow" href="https://templatemo.com/tm-544-comparto" target="_parent">Comparto</a> is a custom light-weight CSS layout for your website. You can easily adapt and use this for your commercial or personal websites. Feel free to use it.</p>
                  <p>You cannot redistribute this template ZIP file in any template collection website. Please <a rel="nofollow" href="https://templatemo.com/contact" target="_parent">contact TemplateMo</a> if you have any question.</p>
                  <p>Nunc sed gravida elit. Curabitur rutrum elit id lobortis viverra. Fusce at libero dui.</p>
                  
                  <a href="#services" class="tm-btn tm-btn-1 tm-link-to-services">More Detail</a>
              </article>
          </div>
      </section>
      <div class="tm-bg-color-1 tm-mb-1 tm-row tm-social-row">
          <div class="tm-icon">
              <div class="tm-icon-inner">
                  <a href="#services">
                      <i class="fas fa-synagogue fa-4x tm-mb-1"></i>
                      <p>Aenean vel est id massa condimentum</p>
                  </a>
              </div>
          </div>
          <div class="tm-icon">
              <div class="tm-icon-inner">
                  <a href="#gallery">
                      <i class="fas fa-chart-bar fa-4x tm-mb-1"></i>
                      <p>Suspendisse interdum lectus purus</p>
                  </a>
              </div>
          </div>
          <div class="tm-icon">
              <div class="tm-icon-inner">
                  <a href="#contact">
                      <i class="fas fa-images fa-4x tm-mb-1"></i>
                      <p>Nulla ac sodales est vel iaculis purus</p>
                  </a>
              </div>
          </div>
      </div>
      <section class="tm-mb-1 tm-row tm-services-row" id="services">
          <div class="tm-section-2-l">
              <article class="tm-bg-color-6 tm-box-pad tm-mb-1">
                  <h2 class="tm-mb-2">.02 Aliquam pretium hendrerit</h2>
                  <p>Cras tempus, velit amet facilisis venenatis, erat felis imperdiet lectus, at posuere elit metus. Title #333 BG #F2F2F2</p>
                  <p class="tm-mb-0">Nam iaculis, urna ut laoreet aliquam, massa magna dapibus. Text #666</p>
              </article>
              <div class="tm-bg-color-7 tm-em-box">
                  <p class="tm-text-color-2">Nam iaculis, urna ut laoreet aliquam, massa magna dapibus nibh, at pellentesque lectus odio non risus. Nulla ac sodales est, vel iaculis. Text #333 . BG #DDD</p>
                  <a href="#gallery" class="tm-btn tm-btn-2">Read More</a>
              </div>
          </div>
          <div class="tm-section-2-r">
              <img src="{% static 'img/comparto-image-02.jpg'%}" alt="Services image" class="tm-img-responsive">
          </div>
      </section>
      <section class="tm-bg-color-4 tm-mb-3 tm-gallery-section" id="gallery">
          <div class="tm-gallery-header">
              <h2 class="tm-mb-1 text-right">.03 The Gallery Section</h2>
              <ul class="tm-gallery-filter tabs clearfix filters-button-group">
                  <li><a role="button" href="#" class="active" data-filter="*">Show All</a></li>
                  . <li><a role="button" href="#" data-filter=".nature">Nature</a></li>
                  . <li><a role="button" href="#" data-filter=".animals">Animals</a></li>
                  . <li><a role="button" href="#" data-filter=".people">People</a></li>
              </ul>
          </div>
          <div class="tm-gallery-outer">
              <div class="tm-gallery" id="tm-gallery">
                  <div class="tm-gallery-item nature">
                      <figure class="effect-bubba">
                          <img src="{% static 'img/gallery/gallery-item-01.jpg '%}" alt="Gallery item" class="tm-img-responsive" />
                          <figcaption>
                              <h2>Too <span>CSS</span></h2>
                              <p>It is a great blog you should explore.</p>
                              <a href="#">View more</a>
                          </figcaption>
                      </figure>
                  </div>
                  <div class="tm-gallery-item animals">
                      <figure class="effect-bubba">
                          <img src="{% static 'img/gallery/gallery-item-02.jpg'%}" alt="Gallery item" class="tm-img-responsive" />
                          <figcaption>
                              <h2>Templates</h2>
                              <p>best templates come from TemplateMo website.</p>
                              <a href="#">View more</a>
                          </figcaption>
                      </figure>
                  </div>
                  <div class="tm-gallery-item nature">
                      <figure class="effect-bubba">
                          <img src="{% static 'img/gallery/gallery-item-03.jpg'%}" alt="Gallery item" class="tm-img-responsive" />
                          <figcaption>
                              <h2>Web <span>Design</span></h2>
                              <p>This is our special design work.</p>
                              <a href="#">View more</a>
                          </figcaption>
                      </figure>
                  </div>
                  <div class="tm-gallery-item nature">
                      <figure class="effect-bubba">
                          <img src="{% static 'img/gallery/gallery-item-04.jpg'%}" alt="Gallery item" class="tm-img-responsive" />
                          <figcaption>
                              <h2>Free <span>HTML</span></h2>
                              <p>HTML layouts are easy to edit.</p>
                              <a href="#">View more</a>
                          </figcaption>
                      </figure>
                  </div>
                  <div class="tm-gallery-item animals">
                      <figure class="effect-bubba">
                          <img src="{% static 'img/gallery/gallery-item-05.jpg'%}" alt="Gallery item" class="tm-img-responsive" />
                          <figcaption>
                              <h2>Just <span>Art</span></h2>
                              <p>You can create your own art website.</p>
                              <a href="#">View more</a>
                          </figcaption>
                      </figure>
                  </div>
                  <div class="tm-gallery-item animals">
                      <figure class="effect-bubba">
                          <img src="{% static 'img/gallery/gallery-item-06.jpg'%}" alt="Gallery item" class="tm-img-responsive" />
                          <figcaption>
                              <h2>Pro <span>Display</span></h2>
                              <p>You can make your artwork gallery.</p>
                              <a href="#">View more</a>
                          </figcaption>
                      </figure>
                  </div>
                  <div class="tm-gallery-item peopl">
                      <figure class="effect-bubba">
                          <img src="{% static 'img/gallery/gallery-item-07.jpg'%}" alt="Gallery item" class="tm-img-responsive" />
                          <figcaption>
                              <h2>The <span>Nature</span></h2>
                              <p>You can create your own HTML website.</p>
                              <a href="#">View more</a>
                          </figcaption>
                      </figure>
                  </div>
                  <div class="tm-gallery-item people">
                      <figure class="effect-bubba">
                          <img src="{% static 'img/gallery/gallery-item-08.jpg'%}" alt="Gallery item" class="tm-img-responsive" />
                          <figcaption>
                              <h2>Color <span>Art</span></h2>
                              <p>You can create your own CSS website.</p>
                              <a href="#">View more</a>
                          </figcaption>
                      </figure>
                  </div>
                  <div class="tm-gallery-item people">
                      <figure class="effect-bubba">
                          <img src="{% static 'img/gallery/gallery-item-09.jpg'%}" alt="Gallery item" class="tm-img-responsive" />
                          <figcaption>
                              <h2>Take it <span>easy</span></h2>
                              <p>You can create your own art gallery.</p>
                              <a href="#">View more</a>
                          </figcaption>
                      </figure>
                  </div>
                  <div class="tm-gallery-item people">
                      <figure class="effect-bubba">
                          <img src="{% static 'img/gallery/gallery-item-10.jpg'%}" alt="Gallery item" class="tm-img-responsive" />
                          <figcaption>
                              <h2>Share <span>This</span></h2>
                              <p>You can make your own image gallery.</p>
                              <a href="#">View more</a>
                          </figcaption>
                      </figure>
                  </div>
              </div>
          </div>
      </section> <!-- Gallery -->
      <section id="contact" class="tm-bg-color-5 tm-mb-3">
          <h2 class="tm-text-white tm-contact-title">.04 Contact Us</h2>
          <div class="tm-bg-color-white tm-contact-main">
              <div class="map-outer">
                  <div class="gmap-canvas">
                      <!-- How to change your own map point
                          1. Go to Google Maps
                          2. Click on your location point
                          3. Click "Share" and choose "Embed map" tab
                          4. Copy only URL and paste it within the src="" field below
                      -->
                      <iframe width="100%" height="400" id="gmap-canvas"
                          src="https://maps.google.com/maps?q=Av.+Lúcio+Costa,+Rio+de+Janeiro+-+RJ,+Brazil&t=&z=13&ie=UTF8&iwloc=&output=embed"
                          frameborder="0" scrolling="no" marginheight="0" marginwidth="0"></iframe>
                  </div>
              </div>
              <div class="contact-form-outer">
                  <form id="contact-form" action="" method="POST" class="tm-bg-color-6 tm-contact-form">
                      <div class="form-group">
                          <input type="text" name="name" class="form-control" placeholder="Name" required="" />
                      </div>
                      <div class="form-group">
                          <input type="email" name="email" class="form-control" placeholder="Email" required="" />
                      </div>
                      <div class="form-group">
                          <textarea rows="4" name="message" class="form-control" placeholder="Message..."
                              required=""></textarea>
                      </div>
                      <div>
                          <button type="submit" class="ml-auto tm-btn tm-btn-3">
                              Send
                          </button>
                      </div>
                  </form>
              </div>
              <div class="contact-info-outer">
                  <div class="tm-bg-color-6 contact-info">
                      <p>Pellentesque egestas odio sed tellus dictum, vel lobortis ante vehicula.</p>
                      <p>Morbi eget accumsan libero, non tincidunt felis.</p>
                      <p class="tm-mb-0">Tel: <a href="tel:0100200990">010-020-0990</a></p>
                      <p>Email: <a href="mailto:info@company.com">info@company.com</a></p>
                  </div>
              </div>
          </div>
      </section>
      <div class="tm-mb-4 text-center tm-social-s">
          <a href="https://fb.com/templatemo" class="tm-social-link"><i class="fab fa-facebook tm-social-icon"></i></a>
          <a href="https://instagram.com" class="tm-social-link"><i class="fab fa-instagram tm-social-icon"></i></a>
          <a href="https://twitter.com" class="tm-social-link"><i class="fab fa-twitter tm-social-icon"></i></a>
          <a href="https://youtube.com" class="tm-social-link"><i class="fab fa-youtube tm-social-icon"></i></a>
      </div>
      <footer class="text-center tm-mb-1">
          <p>Copyright &copy; 2020 Comparto Studio 
          
          - Design: <a rel="nofollow noopener" href="https://templatemo.com" target="_blank">TemplateMo</a></p>
      </footer>
  </div> <!-- .container -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous"></script>
  <script src="{% static 'js/jquery.min.js' %}"></script> <!-- https://jquery.com/download/ -->
  <script src="{% static 'js/imagesloaded.pkgd.min.js' %}"></script> <!-- https://imagesloaded.desandro.com/ -->
  <script src="{% static 'js/isotope.pkgd.min.js' %}"></script> <!-- https://isotope.metafizzy.co/ -->
  <script src="{% static 'js/jquery.singlePageNav.min.js' %}"></script> <!-- https://github.com/ChrisWojcik/single-page-nav -->
  <script>
         // setup chat scoket
    const notifyScoket = new WebSocket(
        'ws://'
        + window.location.host
        + '/ws/notify/'
    );

    // on socket open
    notifyScoket.onopen = function (e) {
        console.log('Socket successfully connected.');
    };

    // on socket close
    notifyScoket.onclose = function (e) {
        console.log('Socket closed unexpectedly');
    };

    // on receiving message on group
    notifyScoket.onmessage = function (e) {
        const data = JSON.parse(e.data);
        const message = data.message;
        console.log(message);
        // Call the setMessage function to add the new li element
        setMessage(message);

    };

    function setMessage(message) {
        // Create a new li element
        var newLi = document.createElement('li');

        // Create a new anchor element
        var newAnchor = document.createElement('a');
        newAnchor.className = 'dropdown-item text-wrap';
        newAnchor.href = '#';
        newAnchor.textContent = message;

        // Append the anchor element to the li element
        newLi.appendChild(newAnchor);

        // Get the ul element with the id "notify"
        var ulElement = document.getElementById('notify');

        // Append the new li element to the ul element
        ulElement.appendChild(newLi);

        // getting object of count
        count = document.getElementById('bellCount').getAttribute('data-count');
        document.getElementById('bellCount').setAttribute('data-count', parseInt(count) + 1);
    }

      // Scroll to Top button
      var btn = $('#button');

      $(window).scroll(function () {
          if ($(window).scrollTop() > 300) {
              btn.addClass('show');
          } else {
              btn.removeClass('show');
          }
      });

      btn.on('click', function (e) {
          e.preventDefault();
          $('html, body').animate({ scrollTop: 0 }, '300');
      });

      // DOM is ready
      $(function () {
          // Single Page Nav
          $('#tm-nav').singlePageNav({ speed: 600 });

          // Smooth Scroll (https://css-tricks.com/snippets/jquery/smooth-scrolling/)
          $('a[href*="#"]')
              // Remove links that don't actually link to anything
              .not('[href="#"]')
              .not('[href="#0"]')
              .click(function (event) {
                  // On-page links
                  if (
                      location.pathname.replace(/^\//, '') == this.pathname.replace(/^\//, '')
                      &&
                      location.hostname == this.hostname
                  ) {
                      // Figure out element to scroll to
                      var target = $(this.hash);
                      target = target.length ? target : $('[name=' + this.hash.slice(1) + ']');
                      // Does a scroll target exist?
                      if (target.length) {
                          // Only prevent default if animation is actually gonna happen
                          event.preventDefault();
                          $('html, body').animate({
                              scrollTop: target.offset().top
                          }, 600, function () {
                              // Callback after animation
                              // Must change focus!
                              var $target = $(target);
                              $target.focus();
                              if ($target.is(":focus")) { // Checking if the target was focused
                                  return false;
                              } else {
                                  $target.attr('tabindex', '-1'); // Adding tabindex for elements not focusable
                                  $target.focus(); // Set focus again
                              };
                          });
                      }
                  }
              });

          /* Isotope Gallery */

          // init isotope
          var $gallery = $(".tm-gallery").isotope({
              itemSelector: ".tm-gallery-item",
              layoutMode: "fitRows"
          });
          // layout Isotope after each image loads
          $gallery.imagesLoaded().progress(function () {
              $gallery.isotope("layout");
          });

          $(".filters-button-group").on("click", "a", function () {
              var filterValue = $(this).attr("data-filter");
              $gallery.isotope({ filter: filterValue });
          });

          $(".tabgroup > div").hide();
          $(".tabgroup > div:first-of-type").show();
          $(".tabs a").click(function (e) {
              e.preventDefault();
              var $this = $(this),
                  tabgroup = "#" + $this.parents(".tabs").data("tabgroup"),
                  others = $this
                      .closest("li")
                      .siblings()
                      .children("a"),
                  target = $this.attr("href");
              others.removeClass("active");
              $this.addClass("active");
          });
      });
  </script>
</body>
{% endblock%}
